SetFactory("OpenCASCADE");

a() = ShapeFromFile("MainMagnet_Yoke_v8.step");

//+
Surface Loop(1) = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14};
//+
Volume(1) = {1};
//+
Surface Loop(2) = {17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 16, 15};
//+
Volume(2) = {2};
//+
Surface Loop(3) = {38, 37, 40, 39};
//+
Surface Loop(4) = {6, 5, 4, 3, 2, 1, 7, 8, 9, 10, 11, 12, 13, 14};
//+
Surface Loop(5) = {6, 5, 4, 3, 2, 1, 7, 8, 9, 10, 11, 12, 13, 14};
//+
Surface Loop(6) = {30, 31, 32, 29};
//+
Volume(3) = {6};
//+
Delete {
  Volume{3}; Volume{1}; Volume{2}; 
}
//+
Surface Loop(7) = {3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 2, 1};
//+
Surface Loop(8) = {17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 16, 15};
//+
Volume(1) = {7, 8};
//+
Surface Loop(9) = {32, 31, 30, 29};
//+
Surface Loop(10) = {12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 13, 14};
//+
Surface Loop(11) = {37, 38, 39, 40};
//+
Surface Loop(12) = {45, 46, 47, 48};
//+
Volume(2) = {11, 12};
//+
Surface Loop(13) = {41, 44, 43, 42};
//+
Surface Loop(14) = {52, 49, 50, 51};
//+
Volume(3) = {13, 14};
//+
Surface Loop(15) = {57, 58, 59, 60, 53, 54, 55, 56};
//+
Surface Loop(16) = {67, 66, 65, 64, 63, 62, 61, 68};
//+
Volume(4) = {15, 16};
//+
Surface Loop(17) = {35, 34, 33, 36};
//+
Surface Loop(18) = {31, 30, 29, 32};
//+
Volume(5) = {17, 18};

//+
Coherence;
//+
Coherence;
//+
BooleanFragments{ Volume{13}; Volume{5}; Volume{1}; Volume{6}; Volume{15}; Delete; }{ }
//+
BooleanFragments{ Volume{13}; Volume{5}; Volume{1}; Volume{9}; Volume{15}; Delete; }{ }
