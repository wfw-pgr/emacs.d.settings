import os, sys
import numpy                      as np
import nkUtilities.plot1D         as pl1
import nkUtilities.load__config   as lcf
import nkUtilities.configSettings as cfs


# ========================================================= #
# === plot frequency characteristics of pill-box cavity === #
# ========================================================= #

def frequency_log_log():

    x_, y_, z_               = 0, 1, 2
    lambda_0                 = 2.405
    cv                       = 3.0e8
    GHz                      = 1.e-9

    # ------------------------------------------------- #
    # --- [1] parameters                            --- #
    # ------------------------------------------------- #
    nData                    = 101
    xMin                     = 0.010
    xMax                     = 2.000

    # ------------------------------------------------- #
    # --- [2] Data Making                           --- #
    # ------------------------------------------------- #
    radii                = np.linspace( xMin,xMax,nData )
    freq                 = cv / ( 2.0*np.pi * radii ) * lambda_0 * GHz
    
    # ------------------------------------------------- #
    # --- [3] plot config                           --- #
    # ------------------------------------------------- #
    pngFile                  = "png/frequency_log_log.png"
    config                   = lcf.load__config()
    config                   = cfs.configSettings( configType="plot.def", config=config )
    config["plt_xAutoRange"] = False
    config["plt_yAutoRange"] = False
    config["plt_xRange"]     = [ 1.0e-2, 1.0e+1 ]
    config["plt_yRange"]     = [ 1.0e-2, 1.0e+2 ]
    config["plt_xlog"]       = True
    config["plt_ylog"]       = True
    config["xTitle"]         = "R (m)"
    config["xTitle"]         = "Frequency (GHz)"
    config["plt_linestyle"]  = "-"
    config["plt_linewidth"]  = 1.6

    # ------------------------------------------------- #
    # --- [4] plot                                  --- #
    # ------------------------------------------------- #
    fig     = pl1.plot1D( config=config, pngFile=pngFile )
    fig.add__plot( xAxis=radii, yAxis=freq, label="Frequency", color="Magenta"  )
    fig.add__legend()
    fig.set__axis()
    fig.save__figure()
    return()


# ========================================================= #
# ===   Execution of Pragram                            === #
# ========================================================= #

if ( __name__=="__main__" ):
    frequency_log_log()
