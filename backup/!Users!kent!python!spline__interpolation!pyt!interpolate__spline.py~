import numpy as np

# ---------------------------------------- #
# --- wrapper for spline interpolation --- #
# ---------------------------------------- #

# ========================================================= #
# ===  interpolate__spline.py                           === #
# ========================================================= #

def interpolate__spline( xval=None, xref=None, yref=None, kind="cubic" ):

    # ------------------------------------------------- #
    # --- [1] Arguments                             --- #
    # ------------------------------------------------- #
    if ( xval is None ): sys.exit( "[interpolate__spline] xval == ???" )
    if ( xref is None ): sys.exit( "[interpolate__spline] xref == ???" )
    if ( yref is None ): sys.exit( "[interpolate__spline] yref == ???" )

    # ------------------------------------------------- #
    # --- [2] spline interpolation                  --- #
    # ------------------------------------------------- #
    import scipy.interpolate as itp
    interp_func = itp.interp1d( xref, yref, kind=kind )
    yval        = interp_func( xval )
    return( yval )


# ========================================================= #
# ===   実行部                                          === #
# ========================================================= #

if ( __name__=="__main__" ):

    xref = np.linspace( 0.0, 3.0, 11 )
    yref = xref**2 + 2.0*xref
    
    xval = np.linspace( 0.0, 3.0, 31 )
    yval = interpolate__spline( xval=xval, xref=xref, yref=yref, kind=kind )

    xans = np.linspace( 0.0, 3.0, 101 )
    yans = xans**2 + 2.0*xans
    
    import nkUtilities.plot1D       as pl1
    import nkUtilities.load__config as lcf

    pngFile = "png/out.png"
    config  = lcf.load__config()
    fig     = pl1.plot1D( config=config, pngFile=pngFile )
    fig.add__plot( xAxis=xref, yAxis=yref, label="ref", marker="o", markersize=1.2, linewidth=0.0 )
    fig.add__plot( xAxis=xval, yAxis=yval, label="val", marker="+", markersize=1.2, linewidth=0.0 )
    fig.add__plot( xAxis=xans, yAxis=yans, label="ans", linewidth=1.2 )
    fig.add__legend()
    fig.set__axis()
    fig.save__figure()


    
