import os, sys, subprocess, glob, re
import nkUtilities.load__constants as lcn
import nkUtilities.genArgs         as gar

sys.path.append( "pyt/" )
args = gar.genArgs()

# ------------------------------------------------- #
# --- [1] prepare                               --- #
# ------------------------------------------------- #
import prepare
prepare.prepare( cleanup="y" )


# ------------------------------------------------- #
# --- [2] main code                             --- #
# ------------------------------------------------- #
cmd2 = "make all"
cmd4 = "./main"
print( cmd2 )
print( cmd4 )

os.chdir( "src/" )
subprocess.call( cmd2.split() )
os.chdir( "../" )
subprocess.call( cmd4.split() )


# ------------------------------------------------- #
# --- [3] post process                          --- #
# ------------------------------------------------- #

import post
post.post( id=args["id"] )


